class LoginViewModel: ObservableObject {    @Published var email: String = ""    @Published var password: String = ""    @Published var showError: Bool = false    @Published var errorMessage: String = ""        @EnvironmentObject private var appState: AppState        func login() {        guard !email.isEmpty && !password.isEmpty else {            showError = true            errorMessage = "Preencha todos os campos"            return        }                guard isValidEmail(email) else {            showError = true            errorMessage = "Email inválido"            return        }                if appState.login(email: email, password: password) {            showError = false        } else {            showError = true            errorMessage = "Credenciais inválidas"        }    }        private func isValidEmail(_ email: String) -> Bool {        let emailRegex = "[A-Z0-9a-z._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,64}"        let emailPredicate = NSPredicate(format: "SELF MATCHES %@", emailRegex)        return emailPredicate.evaluate(with: email)    }}