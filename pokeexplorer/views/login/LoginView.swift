import SwiftUIstruct LoginView: View {    @EnvironmentObject var authManager: AuthManager    @Environment(\.modelContext) private var modelContext    @StateObject private var viewModel = LoginViewModel()    @State private var mostrarRegistro = false        var body: some View {        NavigationView {            VStack(spacing: 20) {                Text("Login")                    .font(.largeTitle)                    .bold()                                TextField("Email", text: $viewModel.email)                    .textFieldStyle(.roundedBorder)                    .autocapitalization(.none)                    .keyboardType(.emailAddress)                    .padding(.horizontal)                                SecureField("Senha", text: $viewModel.senha)                    .textFieldStyle(.roundedBorder)                    .padding(.horizontal)                                Button(action: handleLogin) {                    if viewModel.isLoading {                        ProgressView()                            .progressViewStyle(CircularProgressViewStyle(tint: .white))                    } else {                        Text("Entrar")                    }                }                .padding()                .frame(maxWidth: .infinity)                .background(Color.blue)                .foregroundColor(.white)                .cornerRadius(10)                .padding(.horizontal)                .disabled(viewModel.isLoading)                                Button("Criar nova conta") {                    mostrarRegistro = true                }                .foregroundColor(.blue)                .padding(.top)                                if viewModel.mostrarErro {                    Text(viewModel.mensagemErro)                        .foregroundColor(.red)                        .padding(.top)                }            }            .padding()            .navigationTitle("Bem-vindo")            .navigationBarHidden(true)            .sheet(isPresented: $mostrarRegistro) {                RegisterView()                    .environmentObject(authManager)                    .environment(\.modelContext, modelContext)            }        }    }        private func handleLogin() {        viewModel.login { success, userData in            DispatchQueue.main.async {                if success, let email = userData?["email"] as? String {                    authManager.login(                        email: email,                        name: userData?["name"] as? String ?? "Usu√°rio"                    )                }            }        }    }}