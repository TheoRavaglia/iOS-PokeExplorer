import Foundationclass RegisterViewModel: ObservableObject {    @Published var nome = ""    @Published var email = ""    @Published var senha = ""    @Published var confirmarSenha = ""    @Published var mostrarErro = false    @Published var mensagemErro = ""        // Regex para validação de e-mail    private let emailRegex = "[A-Z0-9a-z._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,64}"        func registrar() -> Bool {        // Limpa erros anteriores        mostrarErro = false        mensagemErro = ""                // Validações em ordem de prioridade        guard !nome.isEmpty else {            mensagemErro = "Nome é obrigatório"            mostrarErro = true            return false        }                guard !email.isEmpty else {            mensagemErro = "Email é obrigatório"            mostrarErro = true            return false        }                guard isValidEmail(email) else {            mensagemErro = "Email inválido (exemplo: usuario@provedor.com)"            mostrarErro = true            return false        }        guard senha.count >= 6 else {            mensagemErro = "A senha deve ter pelo menos 6 caracteres"            mostrarErro = true            return false        }                guard senha == confirmarSenha else {            mensagemErro = "As senhas não coincidem"            mostrarErro = true            return false        }                // Persistência (exemplo com UserDefaults)        saveUserData()        return true    }        // Função dedicada para validação de e-mail    private func isValidEmail(_ email: String) -> Bool {        let emailPredicate = NSPredicate(format: "SELF MATCHES %@", emailRegex)        return emailPredicate.evaluate(with: email)    }        private func saveUserData() {        let userData = [            "nome": nome,            "email": email,            "senha": senha // ⚠️ Em apps reais, NUNCA armazene senhas assim!        ]        UserDefaults.standard.set(userData, forKey: "usuario")        print("Usuário registrado: \(email)")    }}